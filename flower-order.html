<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èŠ±ç±ƒè¨‚è³¼</title>
    <link rel="stylesheet" href="flower-order.css">
    <style>
        /* Add your CSS styling here */
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
        }
        .product {
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            text-align: center;
            cursor: pointer;
        }
        .product img {
            width: 100%;
            height: auto;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            max-width: 500px;
            width: 100%;
            position: relative;
        }
        .modal img {
            width: 100%;
        }
        .close {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            cursor: pointer;
        }
        .hidden {
            display: none;
        }
        .cart, .contact {
            margin-top: 20px;
        }
        .contact-icon {
            margin-right: 10px;
        }
        #music-control button {
            background: none;
            border: none;
            cursor: pointer;
        }
        #play-music {
            background: url('images/sound-on.png') no-repeat center;
        }
        #stop-music {
            background: url('images/sound-off.png') no-repeat center;
            display: none;
        }
    </style>
</head>
<body>
    <header>
        <h1>èŠ±ç±ƒè¨‚è³¼</h1>
    </header>
    <main>
        <div class="product-grid">
            <!-- æ¯ä¸ªèŠ±ç¯®é¡¹ -->
            <div class="product flower-item" data-item-id="A" onclick="openModal('èŠ±ç±ƒ A', 'image/èŠ±ç±ƒA.JPG', 'èŠ±ç±ƒ A è©³ç´°æè¿°...', 2500)">
                <img src="image/èŠ±ç±ƒA.JPG" alt="èŠ±ç±ƒ A">
                <h2>èŠ±ç±ƒ A</h2>
                <p>åƒ¹æ ¼: NT$2500</p>
            </div>
            <div class="product flower-item" data-item-id="B" onclick="openModal('èŠ±ç±ƒ B', 'image/èŠ±ç±ƒB.JPG', 'èŠ±ç±ƒ B è©³ç´°æè¿°...', 3000)">
                <img src="image/èŠ±ç±ƒB.JPG" alt="èŠ±ç±ƒ B">
                <h2>èŠ±ç±ƒ B</h2>
                <p>åƒ¹æ ¼: NT$3000</p>
            </div>
            <div class="product flower-item" data-item-id="C" onclick="openModal('èŠ±ç±ƒ C', 'image/èŠ±ç±ƒC.JPG', 'èŠ±ç±ƒ C è©³ç´°æè¿°...', 3500)">
                <img src="image/èŠ±ç±ƒC.JPG" alt="èŠ±ç±ƒ C">
                <h2>èŠ±ç±ƒ C</h2>
                <p>åƒ¹æ ¼: NT$3500</p>
            </div>
            <div class="product flower-item" data-item-id="D" onclick="openModal('èŠ±ç±ƒ D', 'image/èŠ±ç±ƒD.JPG', 'èŠ±ç±ƒ D è©³ç´°æè¿°...', 4000)">
                <img src="image/èŠ±ç±ƒD.JPG" alt="èŠ±ç±ƒ D">
                <h2>èŠ±ç±ƒ D</h2>
                <p>åƒ¹æ ¼: NT$4000</p>
            </div>
            <div class="product flower-item" data-item-id="E" onclick="openModal('èŠ±ç±ƒ E', 'image/èŠ±ç±ƒE.JPG', 'èŠ±ç±ƒ E è©³ç´°æè¿°...', 5000)">
                <img src="image/èŠ±ç±ƒE.JPG" alt="èŠ±ç±ƒ E">
                <h2>èŠ±ç±ƒ E</h2>
                <p>åƒ¹æ ¼: NT$5000</p>
            </div>
            <div class="product flower-item" data-item-id="F" onclick="openModal('èŠ±ç±ƒ F', 'image/èŠ±ç±ƒF.JPG', 'èŠ±ç±ƒ F è©³ç´°æè¿°...', 5500)">
                <img src="image/èŠ±ç±ƒF.JPG" alt="èŠ±ç±ƒ F">
                <h2>èŠ±ç±ƒ F</h2>
                <p>åƒ¹æ ¼: NT$5500</p>
            </div>
            <div class="product flower-item" data-item-id="G" onclick="openModal('èŠ±ç±ƒ G', 'image/èŠ±ç±ƒG.JPG', 'èŠ±ç±ƒ G è©³ç´°æè¿°...', 6000)">
                <img src="image/èŠ±ç±ƒG.JPG" alt="èŠ±ç±ƒ G">
                <h2>èŠ±ç±ƒ G</h2>
                <p>åƒ¹æ ¼: NT$6000</p>
            </div>
            <div class="product flower-item" data-item-id="H" onclick="openModal('èŠ±ç±ƒ H', 'image/èŠ±ç±ƒH.JPG', 'èŠ±ç±ƒ H è©³ç´°æè¿°...', 6500)">
                <img src="image/èŠ±ç±ƒH.JPG" alt="èŠ±ç±ƒ H">
                <h2>èŠ±ç±ƒ H</h2>
                <p>åƒ¹æ ¼: NT$6500</p>
            </div>
        </div>

        <!-- æ¨¡æ€çª—å£ -->
        <div id="flowerModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal()">&times;</span>
                <h2 id="modalTitle">èŠ±ç±ƒåç¨±</h2>
                <img id="modalImage" src="" alt="èŠ±ç¯®å›¾ç‰‡" style="width:100%;">
                <p id="modalDescription">èŠ±ç±ƒè¯¦ç»†æè¿°...</p>
                <div class="quantity-controls">
                    <button onclick="changeQuantity('A', -1)">-</button>
                    <span id="quantity-A">1</span>
                    <button onclick="changeQuantity('A', 1)">+</button>
                </div>
                <button id="addToCartBtn" onclick="addToCart()">æ·»åŠ åˆ°è³¼ç‰©è»Š</button>
            </div>
        </div>

        <div class="cart">
            <h2>è³¼ç‰©è»Š</h2>
            <ul id="cartItems"></ul>
            <div class="invoice-options">
                <label>
                    <input type="checkbox" id="invoice-checkbox" onchange="updateTotal()">
                    éœ€è¦ç™¼ç¥¨
                </label>
                <div id="invoice-details" class="hidden">
                    <label for="company-name">å…¬å¸æŠ¬é ­ï¼š</label>
                    <input type="text" id="company-name" name="company-name">

                    <label for="recipient-name">æ”¶ä»¶äººå§“åï¼š</label>
                    <input type="text" id="recipient-name" name="recipient-name">

                    <label for="recipient-address">æ”¶ä»¶åœ°å€ï¼š</label>
                    <input type="text" id="recipient-address" name="recipient-address">
                </div>
                <label>
                    <input type="checkbox" id="receipt-checkbox" onchange="updateTotal()">
                    éœ€è¦æ”¶æ“š
                </label>
                <div id="receipt-details" class="hidden">
                    <label for="receipt-recipient-name">æ”¶ä»¶äººå§“åï¼š</label>
                    <input type="text" id="receipt-recipient-name" name="receipt-recipient-name">

                    <label for="receipt-recipient-address">æ”¶ä»¶åœ°å€ï¼š</label>
                    <input type="text" id="receipt-recipient-address" name="receipt-recipient-address">
                </div>
                <label>
                    <input type="checkbox" id="same-day-pickup">
                    ç•¶å¤©é ˜å–
                </label>
            </div>
            <p id="totalPrice">ç¸½é‡‘é¡ï¼ˆæœªç¨…ï¼‰: NT$0</p>
            <p>ç™¼ç¥¨é™„åŠ è²» (5%)ï¼šNT$<span id="invoice-charge">0</span></p>
            <p>æœ€çµ‚é‡‘é¡ï¼šNT$<span id="final-amount">0</span></p>
            <form id="order-form">
                <label for="name">è‡´è´ˆçµ¦ï¼š</label>
                <input type="text" id="name" name="name" required>

                <label for="order-name">è¨‚è³¼äººå§“åï¼š</label>
                <input type="text" id="order-name" name="order-name" required>

                <label for="order-number">è¨‚è³¼äººè¯çµ¡é›»è©±ï¼š</label>
                <input type="tel" id="order-number" name="order-number" required>

                <label for="orderer-names">è½æ¬¾åå–®ï¼ˆç”¨é€—è™Ÿåˆ†éš”ï¼‰ï¼š</label>
                <input type="text" id="orderer-names" name="orderer-names">

                <button type="submit">ç¢ºèªè¨‚å–®</button>
            </form>
        </div>

        <div class="contact">
            <h2>è¯çµ¡æˆ‘å€‘</h2>
            <p>
                <span class="contact-icon">ğŸ“</span>
                é›»è©±ï¼š0938-179-858
            </p>
            <p>
                <span class="contact-icon">LINE</span>
                <a href="https://line.me/ti/p/@your-line-id">åŠ å…¥ LINE</a>
            </p>
        </div>

        <!-- éŸ³ä¹æ§åˆ¶ -->
        <div id="music-control">
            <button id="play-music" onclick="playMusic()"></button>
            <button id="stop-music" onclick="stopMusic()"></button>
        </div>
    </main>

    <footer>
        <p>&copy; 2024 ç¥¥å®‰ç”Ÿå‘½ç¦®å„€å…¬å¸. ç‰ˆæ¬Šæ‰€æœ‰ã€‚</p>
    </footer>

    <script>
        let cart = {};
        let total = 0;
        let invoiceRequired = false;
        let receiptRequired = false;

        function openModal(title, imageUrl, description, price) {
            document.getElementById('modalTitle').innerText = title;
            document.getElementById('modalImage').src = imageUrl;
            document.getElementById('modalDescription').innerText = description;
            document.getElementById('addToCartBtn').onclick = () => addToCart(price);
            document.getElementById('flowerModal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('flowerModal').style.display = 'none';
        }

        function addToCart(price) {
            const itemId = document.querySelector('.flower-item.selected').dataset.itemId;
            if (!cart[itemId]) {
                cart[itemId] = { quantity: 0, price };
            }
            cart[itemId].quantity++;
            updateCart();
        }

        function updateCart() {
            const cartItems = document.getElementById('cartItems');
            cartItems.innerHTML = '';
            total = 0;

            for (let itemId in cart) {
                const item = cart[itemId];
                const itemTotal = item.quantity * item.price;
                total += itemTotal;
                cartItems.innerHTML += `<li>èŠ±ç±ƒ ${itemId} - ${item.quantity} å€‹ - NT$${itemTotal}</li>`;
            }

            updateTotal();
        }

        function updateTotal() {
            const invoiceCheckbox = document.getElementById('invoice-checkbox');
            invoiceRequired = invoiceCheckbox.checked;
            const receiptCheckbox = document.getElementById('receipt-checkbox');
            receiptRequired = receiptCheckbox.checked;

            const invoiceCharge = invoiceRequired ? total * 0.05 : 0;
            const finalAmount = total + invoiceCharge;

            document.getElementById('invoice-charge').innerText = invoiceCharge.toFixed(2);
            document.getElementById('final-amount').innerText = finalAmount.toFixed(2);
            document.getElementById('totalPrice').innerText = `ç¸½é‡‘é¡ï¼ˆæœªç¨…ï¼‰: NT$${total.toFixed(2)}`;
        }

        function playMusic() {
            document.getElementById('play-music').style.display = 'none';
            document.getElementById('stop-music').style.display = 'block';
            // Add music play functionality here
        }

        function stopMusic() {
            document.getElementById('stop-music').style.display = 'none';
            document.getElementById('play-music').style.display = 'block';
            // Add music stop functionality here
        }

        document.getElementById('order-form').addEventListener('submit', function(e) {
            e.preventDefault();
            // Handle form submission here
            alert('è¨‚å–®å·²æäº¤');
        });
    </script>
</body>
</html>
