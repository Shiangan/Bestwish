<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>訃聞公告</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css">
    <link rel="stylesheet" href="obituary.css">
</head>
<body>
    <header>
        <img src="image/logo.png" alt="祥安生命有限公司 Logo" class="logo">
    </header>

    <main>
        <section id="obituary-info" class="fade-in">
            <h1>訃聞公告</h1>
            <div id="obituary-photo-container">
                <img id="obituary-photo" src="" alt="主要追思照片">
            </div>
            <p id="obituary-text">
                我們摯愛的親人「<span id="name">[姓名]</span>」，生於<span id="birth-date">[出生日期]</span>，逝於<span id="death-date">[死亡日期]</span>，享年<span id="age">[享年]</span>。其牌位安置於<span id="funeral-space">[牌位安置地點]</span>。家奠禮將於<span id="family-service-time">[家奠禮時間]</span>舉行，公奠禮於<span id="public-service-time">[公奠禮時間]</span>舉行，地點為<span id="funeral-location">[出殯地點]</span>。願靈魂安息。
            </p>
        </section>

        <section id="photo-gallery" class="fade-in">
            <h2>追思相册</h2>
            <div class="carousel">
                <!-- 轮播图项将通过 JavaScript 动态添加 -->
            </div>
        </section>

        <section id="map" class="fade-in">
            <h2>儀式地圖</h2>
            <div id="map-container" style="height: 400px;"></div>
        </section>

        <section id="messages" class="fade-in">
            <h2>留言區</h2>
            <div id="messages-container"></div>
            <form id="message-form">
                <input type="text" id="message-name" name="message-name" placeholder="您的名字" required>
                <textarea id="message-content" name="message-content" placeholder="請留下您的追思信息..." required></textarea>
                <button type="submit">提交留言</button>
            </form>
        </section>

        <section id="flower-basket" class="fade-in">
            <h2>致贈花禮送上祝福</h2>
            <a href="flower-order.html" id="flower-order-link">訂購花籃請點選我</a>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 祥安生命有限公司. 版權所有.</p>
    </footer>

    <button id="music-toggle">🔊</button>
    <audio id="background-music" src="" loop></audio>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY"></script>
    <script src="obituary.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 从 URL 查询参数中获取图片 URL
            const urlParams = new URLSearchParams(window.location.search);
            const photoUrl = urlParams.get('photo-url');
            const additionalPhotoUrls = urlParams.getAll('additional-photo-urls');

            // 显示主照片
            if (photoUrl) {
                document.getElementById('obituary-photo').src = photoUrl;
            }

            // 显示轮播图
            const carouselContainer = document.querySelector('.carousel');
            additionalPhotoUrls.forEach(url => {
                const div = document.createElement('div');
                const img = document.createElement('img');
                img.src = url;
                img.alt = '追思照片';
                img.style.maxWidth = '100%';
                img.style.height = 'auto';
                div.appendChild(img);
                carouselContainer.appendChild(div);
            });

            // 初始化轮播图
            $('.carousel').slick({
                dots: true,
                infinite: true,
                speed: 500,
                slidesToShow: 1,
                slidesToScroll: 1
            });
        });
    </script>
</body>
</html>
