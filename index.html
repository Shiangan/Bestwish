<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¥¥å®‰ç”Ÿå‘½æœ‰é™å…¬å¸ï¼è¨ƒèå…¬å‘Š</title>
    <link rel="stylesheet" href="index.css">
    <script src="index.js" defer></script>
</head>
<body>
    <header>
        <img src="image/logo.png" alt="ç¥¥å®‰ç”Ÿå‘½æœ‰é™å…¬å¸ Logo" class="logo">
    </header>
    <main>
        <section id="info-form-section">
            <h2>è¨ƒèè³‡æ–™æäº¤</h2>
            <form id="info-form" enctype="multipart/form-data">
                <!-- è¡¨å–®å…§å®¹ -->
                <label for="name">å§“å:</label>
                <input type="text" id="name" name="name" required>
                
                <label for="photo">è¿½æ€ç…§ç‰‡:</label>
                <input type="file" id="photo" name="photo" accept="image/*" required>
                
                <label for="additional-photos">å…¶ä»–ç…§ç‰‡ï¼ˆå¯é¸ä¸é™å¼µæ•¸ï¼‰:</label>
                <input type="file" id="additional-photos" name="additional-photos[]" accept="image/*" multiple>
                
                <label for="paper-obituary">è¨ƒèç´™æœ¬å…§å®¹:</label>
                <input type="file" id="paper-obituary" name="paper-obituary" accept="image/*">
                
                <label for="birth-date">å‡ºç”Ÿæ—¥æœŸ:</label>
                <input type="date" id="birth-date" name="birth-date" required>
                
                <label for="death-date">æ­»äº¡æ—¥æœŸ:</label>
                <input type="date" id="death-date" name="death-date" required>
                
                <label for="funeral-space">ç‰Œä½å®‰ç½®åœ°é»:</label>
                <textarea id="funeral-space" name="funeral-space"></textarea>
                
                <label for="funeral-date">å‡ºæ®¯æ—¥æœŸ:</label>
                <input type="date" id="funeral-date" name="funeral-date" required>
                
                <label for="funeral-location">å‡ºæ®¯åœ°é»:</label>
                <select id="funeral-location" name="funeral-location" required>
                    <option value="ç¬¬äºŒæ®¯å„€é¤¨">ç¬¬äºŒæ®¯å„€é¤¨ ç¦®å»³</option>
                    <option value="æ¿æ©‹æ®¯å„€é¤¨">æ¿æ©‹æ®¯å„€é¤¨ ç¦®å»³</option>
                    <option value="å…¶ä»–">å…¶ä»–</option>
                </select>
                
                <input type="text" id="other-funeral-location" name="other-funeral-location" placeholder="è‹¥é¸æ“‡å…¶ä»–ï¼Œè«‹å¡«å¯«åœ°é»" style="display: none;">
                
                <label for="family-service-time">å®¶å¥ ç¦®æ™‚é–“:</label>
                <input type="time" id="family-service-time" name="family-service-time" required>
                
                <label for="public-service-time">å…¬å¥ ç¦®æ™‚é–“:</label>
                <input type="time" id="public-service-time" name="public-service-time" required>
                
                <label for="life-story">ç”Ÿå¹³ä»‹ç´¹:</label>
                <textarea id="life-story" name="life-story"></textarea>
                
                <label for="music-choice">é¸æ“‡èƒŒæ™¯éŸ³æ¨‚:</label>
                <select id="music-choice" name="music-choice">
                    <option value="audio/music1.mp3">éŸ³æ¨‚1</option>
                    <option value="audio/music2.mp3">éŸ³æ¨‚2</option>
                    <option value="audio/music3.mp3">éŸ³æ¨‚3</option>
                    <option value="audio/music4.mp3">éŸ³æ¨‚4</option>
                    <option value="audio/music5.mp3">éŸ³æ¨‚5</option>
                </select>
                
                <label for="custom-music">æˆ–ä¸Šå‚³è‡ªå®šç¾©éŸ³æ¨‚:</label>
                <input type="file" id="custom-music" name="custom-music" accept="audio/*">
                
                <button type="submit">æäº¤</button>
            </form>
        </section>
    </main>
    <footer>
        <p>&copy; 2024 ç¥¥å®‰ç”Ÿå‘½æœ‰é™å…¬å¸. ç‰ˆæ¬Šæ‰€æœ‰.</p>
    </footer>

    <audio id="background-music" preload="auto" loop>
        <source src="audio/music1.mp3" type="audio/mp3">
        æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æŒéŸ³é »å…ƒç´ ã€‚
    </audio>
    <div id="music-control">
        <button id="play-music" aria-label="æ’­æ”¾éŸ³æ¨‚" style="background: url('images/sound-on.png');">ğŸ”Š</button>
        <button id="stop-music" aria-label="åœæ­¢éŸ³æ¨‚" style="display: none; background: url('images/sound-off.png');">ğŸ”‡</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const music = document.getElementById('background-music');
            const playButton = document.getElementById('play-music');
            const stopButton = document.getElementById('stop-music');
            const funeralLocationSelect = document.getElementById('funeral-location');
            const otherFuneralLocationInput = document.getElementById('other-funeral-location');

            // åˆå§‹åŒ–èƒŒæ™¯éŸ³ä¹æ’­æ”¾çŠ¶æ€
            if (localStorage.getItem('musicPlaying') === 'true') {
                music.play();
                playButton.style.display = 'none';
                stopButton.style.display = 'block';
            }

            // æ’­æ”¾éŸ³ä¹
            playButton.addEventListener('click', function() {
                music.play();
                localStorage.setItem('musicPlaying', 'true');
                playButton.style.display = 'none';
                stopButton.style.display = 'block';
            });

            // åœæ­¢éŸ³ä¹
            stopButton.addEventListener('click', function() {
                music.pause();
                localStorage.setItem('musicPlaying', 'false');
                playButton.style.display = 'block';
                stopButton.style.display = 'none';
            });

            // æ˜¾ç¤º/éšè—â€œå…¶ä»–â€åœ°ç‚¹è¾“å…¥æ¡†
            funeralLocationSelect.addEventListener('change', function() {
                if (funeralLocationSelect.value === 'å…¶ä»–') {
                    otherFuneralLocationInput.style.display = 'block';
                } else {
                    otherFuneralLocationInput.style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>
